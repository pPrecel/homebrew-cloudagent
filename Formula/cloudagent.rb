# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Cloudagent < Formula
  desc "The simple and easy-to-use program designed to watch user activity for Cloud Providers."
  homepage "http://github.com/pPrecel/cloudagent"
  version "0.2.3"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/pPrecel/cloudagent/releases/download/v0.2.3/cloudagent_0.2.3_darwin_x86_64.tar.gz"
      sha256 "4ede801395bf7e32f5e2bc8792e692e0847cc754cac292c14f1dea323fbdeae6"

      def install
        bin.install "cloudagent"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/pPrecel/cloudagent/releases/download/v0.2.3/cloudagent_0.2.3_darwin_arm64.tar.gz"
      sha256 "8a1bd3a77d9a03f9df9a857f437554bdae46cd7ff41f35bc3e425d62fbc517e9"

      def install
        bin.install "cloudagent"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/pPrecel/cloudagent/releases/download/v0.2.3/cloudagent_0.2.3_linux_arm64.tar.gz"
      sha256 "a1e7fd5e48af4433969a66a3c758102ff8c7f16ada495c5cd3c63c5d5650757b"

      def install
        bin.install "cloudagent"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/pPrecel/cloudagent/releases/download/v0.2.3/cloudagent_0.2.3_linux_x86_64.tar.gz"
      sha256 "90702892e8db527f866635da34f5d94ba9a710afd290b9f176dd901fb73519dc"

      def install
        bin.install "cloudagent"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/pPrecel/cloudagent/releases/download/v0.2.3/cloudagent_0.2.3_linux_armv7.tar.gz"
      sha256 "82f9078fd09f8e10200add0df4162c0db0cc0ba8315ba97680afe3dc85afaae0"

      def install
        bin.install "cloudagent"
      end
    end
  end

  def post_install
    system "make", "install-agent"
  end

  test do
    system "#{bin}/cloudagent"
  end
end
